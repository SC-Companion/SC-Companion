<!DOCTYPE html>
<html lang="fr">
  <head>
    <%- include('partials/head') %>
  </head>
  <body
    x-data="{ page: 'dashboard', 'loaded': true, 'darkMode': true, 'selected': 'Dashboard', 'stickyMenu': false, 'scrollTop': false }"
    x-init="
         darkMode = JSON.parse(localStorage.getItem('darkMode')) || true;
         $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
    :class="{'dark': darkMode === true}"
  >
    <!-- Custom Titlebar -->
    <%- include('partials/titlebar', { title: 'Dashboard' }) %>

    <!-- ===== Page Wrapper Start ===== -->
    <div class="flex h-[calc(100vh-2.75rem)] overflow-hidden">
      <!-- ===== Sidebar Start ===== -->
      <%- include('partials/sidebar') %>
      <!-- ===== Sidebar End ===== -->

      <!-- ===== Content Area Start ===== -->
      <div
        class="relative flex flex-col flex-1 overflow-x-hidden overflow-y-auto"
        style="z-index: 1"
      >
        <!-- ===== Header Start ===== -->
        <%- include('partials/header') %>
        <!-- ===== Header End ===== -->

        <!-- ===== Main Content Start ===== -->
        <main>
          <div class="p-4 mx-auto max-w-7xl md:p-6">
            <!-- Welcome Section -->
            <div class="mb-6">
              <h1 class="text-2xl font-bold sc-text">
                Bonjour, <%= user?.username || 'Utilisateur' %> ! üëã
              </h1>
              <p class="sc-text-secondary">
                Voici un aper√ßu de votre activit√© aujourd'hui
              </p>
            </div>

            <!-- Stats Cards -->
            <div
              class="grid grid-cols-1 gap-4 mb-6 sm:grid-cols-2 lg:grid-cols-4"
            >
              <!-- Total Users -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium sc-text-secondary">
                      Utilisateurs totaux
                    </p>
                    <p class="text-2xl font-bold sc-text">2,420</p>
                  </div>
                  <div
                    class="p-3 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full"
                  >
                    <svg
                      class="w-6 h-6 text-white"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"
                      ></path>
                    </svg>
                  </div>
                </div>
                <div class="flex items-center mt-4">
                  <span class="text-sm font-medium text-green-400">+2.5%</span>
                  <span class="text-sm sc-text-secondary ml-2"
                    >vs mois dernier</span
                  >
                </div>
              </div>

              <!-- Total Revenue -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium sc-text-secondary">
                      Revenus totaux
                    </p>
                    <p class="text-2xl font-bold sc-text">‚Ç¨45,231</p>
                  </div>
                  <div
                    class="p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full"
                  >
                    <svg
                      class="w-6 h-6 text-white"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"
                      ></path>
                    </svg>
                  </div>
                </div>
                <div class="flex items-center mt-4">
                  <span class="text-sm font-medium text-green-400">+20.1%</span>
                  <span class="text-sm sc-text-secondary ml-2"
                    >vs mois dernier</span
                  >
                </div>
              </div>

              <!-- Active Sessions -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium sc-text-secondary">
                      Sessions actives
                    </p>
                    <p class="text-2xl font-bold sc-text">1,234</p>
                  </div>
                  <div
                    class="p-3 bg-gradient-to-r from-purple-500 to-violet-600 rounded-full"
                  >
                    <svg
                      class="w-6 h-6 text-white"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
                      ></path>
                    </svg>
                  </div>
                </div>
                <div class="flex items-center mt-4">
                  <span class="text-sm font-medium text-red-400">-1.2%</span>
                  <span class="text-sm sc-text-secondary ml-2"
                    >vs mois dernier</span
                  >
                </div>
              </div>

              <!-- Conversion Rate -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="text-sm font-medium sc-text-secondary">
                      Taux de conversion
                    </p>
                    <p class="text-2xl font-bold sc-text">3.24%</p>
                  </div>
                  <div
                    class="p-3 bg-gradient-to-r from-orange-500 to-red-500 rounded-full"
                  >
                    <svg
                      class="w-6 h-6 text-white"
                      fill="none"
                      stroke="currentColor"
                      viewBox="0 0 24 24"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"
                      ></path>
                    </svg>
                  </div>
                </div>
                <div class="flex items-center mt-4">
                  <span class="text-sm font-medium text-green-400">+0.8%</span>
                  <span class="text-sm sc-text-secondary ml-2"
                    >vs mois dernier</span
                  >
                </div>
              </div>
            </div>

            <!-- Charts Section -->
            <div class="grid grid-cols-1 gap-6 lg:grid-cols-2">
              <!-- Sales Chart -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-lg font-semibold sc-text">
                    √âvolution des ventes
                  </h3>
                  <select
                    class="text-sm border sc-border rounded-md px-3 py-1 bg-slate-800 sc-text focus:outline-none focus:ring-2 focus:ring-orange-500"
                  >
                    <option>7 derniers jours</option>
                    <option>30 derniers jours</option>
                    <option>3 derniers mois</option>
                  </select>
                </div>
                <div class="h-64">
                  <canvas id="salesChart"></canvas>
                </div>
              </div>

              <!-- Recent Activity -->
              <div class="p-6 sc-card rounded-lg shadow-sm hover-lift">
                <h3 class="text-lg font-semibold sc-text mb-4">
                  Activit√© r√©cente
                </h3>
                <div class="space-y-4">
                  <div class="flex items-center space-x-3">
                    <div
                      class="w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full flex items-center justify-center"
                    >
                      <svg
                        class="w-4 h-4 text-white"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                        ></path>
                      </svg>
                    </div>
                    <div class="flex-1">
                      <p class="text-sm font-medium sc-text">
                        Nouvel utilisateur inscrit
                      </p>
                      <p class="text-xs sc-text-secondary">Il y a 2 minutes</p>
                    </div>
                  </div>

                  <div class="flex items-center space-x-3">
                    <div
                      class="w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center"
                    >
                      <svg
                        class="w-4 h-4 text-white"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"
                        ></path>
                      </svg>
                    </div>
                    <div class="flex-1">
                      <p class="text-sm font-medium sc-text">Nouvelle vente</p>
                      <p class="text-xs sc-text-secondary">Il y a 5 minutes</p>
                    </div>
                  </div>

                  <div class="flex items-center space-x-3">
                    <div
                      class="w-8 h-8 bg-gradient-to-r from-purple-500 to-violet-600 rounded-full flex items-center justify-center"
                    >
                      <svg
                        class="w-4 h-4 text-white"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          stroke-width="2"
                          d="M15 17h5l-5 5v-5zM4 19h6v-2H4v2zM4 15h6v-2H4v2zM4 11h6V9H4v2zM4 7h6V5H4v2zM10 7h10V5H10v2zM10 11h10V9H10v2zM10 15h10v-2H10v2z"
                        ></path>
                      </svg>
                    </div>
                    <div class="flex-1">
                      <p class="text-sm font-medium sc-text">Rapport g√©n√©r√©</p>
                      <p class="text-xs sc-text-secondary">Il y a 10 minutes</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Recent Orders Table -->
            <div class="mt-6 p-6 sc-card rounded-lg shadow-sm hover-lift">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold sc-text">
                  Commandes r√©centes
                </h3>
                <a
                  href="#"
                  class="text-sm sc-accent hover:text-orange-400 transition-colors"
                  >Voir tout</a
                >
              </div>
              <div class="overflow-x-auto">
                <table class="w-full text-sm text-left sc-text-secondary">
                  <thead class="text-xs sc-text uppercase bg-slate-800/50">
                    <tr>
                      <th class="px-6 py-3">ID</th>
                      <th class="px-6 py-3">Client</th>
                      <th class="px-6 py-3">Produit</th>
                      <th class="px-6 py-3">Montant</th>
                      <th class="px-6 py-3">Statut</th>
                      <th class="px-6 py-3">Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      class="border-b sc-border hover:bg-slate-800/30 transition-colors"
                    >
                      <td class="px-6 py-4 font-medium sc-text">#1234</td>
                      <td class="px-6 py-4 sc-text">Jean Dupont</td>
                      <td class="px-6 py-4 sc-text">Produit Premium</td>
                      <td class="px-6 py-4 sc-text">‚Ç¨299</td>
                      <td class="px-6 py-4">
                        <span
                          class="bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-medium px-2.5 py-0.5 rounded"
                          >Livr√©</span
                        >
                      </td>
                      <td class="px-6 py-4 sc-text-secondary">2024-01-15</td>
                    </tr>
                    <tr
                      class="border-b sc-border hover:bg-slate-800/30 transition-colors"
                    >
                      <td class="px-6 py-4 font-medium sc-text">#1235</td>
                      <td class="px-6 py-4 sc-text">Marie Martin</td>
                      <td class="px-6 py-4 sc-text">Produit Standard</td>
                      <td class="px-6 py-4 sc-text">‚Ç¨99</td>
                      <td class="px-6 py-4">
                        <span
                          class="bg-gradient-to-r from-yellow-500 to-orange-500 text-white text-xs font-medium px-2.5 py-0.5 rounded"
                          >En cours</span
                        >
                      </td>
                      <td class="px-6 py-4 sc-text-secondary">2024-01-14</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </main>
        <!-- ===== Main Content End ===== -->
      </div>
      <!-- ===== Content Area End ===== -->
    </div>
    <!-- ===== Page Wrapper End ===== -->

    <%- include('partials/scripts') %>
  </body>
</html>
